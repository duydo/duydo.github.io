<!doctype html><html lang=en dir=auto data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Java: Type Promotion | Duy Do</title><meta name=keywords content="java,engineering"><meta name=description content="Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.
byte b = 1;
b = b * 2;
Thật ra thì đoạn mã trên không thể biên dịch được.
Trước tiên thử phân tích xem vì sao các bạn trả lời như vậy.
Nhìn vào đoạn mã thì thấy b được khai báo kiểu byte và gán giá trị 1, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu byte trong Java từ -128 đến 127."><meta name=author content="Duy Do"><link rel=canonical href=https://duydo.me/java-type-promotion/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://duydo.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://duydo.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://duydo.me/favicon-32x32.png><link rel=apple-touch-icon href=https://duydo.me/apple-touch-icon.png><link rel=mask-icon href=https://duydo.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://duydo.me/java-type-promotion/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"&&(document.querySelector("html").dataset.theme="dark")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-MWQHCX1NZ9"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MWQHCX1NZ9")</script><meta property="og:url" content="https://duydo.me/java-type-promotion/"><meta property="og:site_name" content="Duy Do"><meta property="og:title" content="Java: Type Promotion"><meta property="og:description" content="Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.
byte b = 1; b = b * 2; Thật ra thì đoạn mã trên không thể biên dịch được.
Trước tiên thử phân tích xem vì sao các bạn trả lời như vậy. Nhìn vào đoạn mã thì thấy b được khai báo kiểu byte và gán giá trị 1, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu byte trong Java từ -128 đến 127."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-08-06T18:51:46+07:00"><meta property="article:modified_time" content="2018-08-06T18:51:46+07:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Engineering"><meta property="og:image" content="https://duydo.me/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://duydo.me/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Java: Type Promotion"><meta name=twitter:description content="Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.
byte b = 1;
b = b * 2;
Thật ra thì đoạn mã trên không thể biên dịch được.
Trước tiên thử phân tích xem vì sao các bạn trả lời như vậy.
Nhìn vào đoạn mã thì thấy b được khai báo kiểu byte và gán giá trị 1, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu byte trong Java từ -128 đến 127."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://duydo.me/posts/"},{"@type":"ListItem","position":2,"name":"Java: Type Promotion","item":"https://duydo.me/java-type-promotion/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Java: Type Promotion","name":"Java: Type Promotion","description":"Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.\nbyte b = 1; b = b * 2; Thật ra thì đoạn mã trên không thể biên dịch được.\nTrước tiên thử phân tích xem vì sao các bạn trả lời như vậy. Nhìn vào đoạn mã thì thấy b được khai báo kiểu byte và gán giá trị 1, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu byte trong Java từ -128 đến 127.\n","keywords":["java","engineering"],"articleBody":"Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.\nbyte b = 1; b = b * 2; Thật ra thì đoạn mã trên không thể biên dịch được.\nTrước tiên thử phân tích xem vì sao các bạn trả lời như vậy. Nhìn vào đoạn mã thì thấy b được khai báo kiểu byte và gán giá trị 1, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu byte trong Java từ -128 đến 127.\nDòng mã tiếp theo gán b = b * 2, lúc này biểu thức b * 2 sẽ có giá trị là 1 * 2 = 2, thuộc tầm trị [-128, 127] nên hoàn toàn có thể gán được lại cho b. Từ đây các bạn trả lời như đinh đóng cột đoạn mã trên biên dịch và chạy được là cái chắc :D\nNhưng các bạn đã nhầm, thực ra mọi thứ không diễn ra như vậy, vấn đề nằm ở dòng mã thứ 2, b = b * 2.\nKhi thực hiện phép tính b * 2, Java tự động chuyển kiểu của b từ byte thành int để thực hiện phép * với 2, (2 là integer literal nên có kiểu int) và kết quả của b * 2 có kiểu int. Tới đây thì ta đã rõ vì sao b = b * 2 không thực hiện được vì thằng mang kiểu int thì không thể nào gán cho thằng mang kiểu byte được.\nQuá trình tự động chuyển kiểu dữ liệu như vậy gọi là Type Promotion. Các bạn chỉ cần nhớ nguyên tắc chung khi thực hiện các biểu thức tính toán, Java sẽ tự động chuyển các kiểu dữ liệu của các toán hạng (operand) có tầm trị thấp sang kiểu dữ liệu của toán hạng có tầm trị cao hơn và kết quả của phép tính sẽ có kiểu dữ liệu của toán hạng có tầm trị cao nhất.\nCụ thể, các kiểu byte, short và char sẽ được chuyển thành int trước tiên, sau đó nếu toán hạng tiếp theo có kiểu long thì toàn bộ biểu thức sẽ chuyển thành long, cứ thế chuyển lên float và cuối cùng là double.\nbyte, short, char =\u003e int =\u003e long =\u003e float =\u003e double\nChúc anh em code Java vui vẻ \u003c3\n","wordCount":"420","inLanguage":"en","image":"https://duydo.me/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2018-08-06T18:51:46+07:00","dateModified":"2018-08-06T18:51:46+07:00","author":{"@type":"Person","name":"Duy Do"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://duydo.me/java-type-promotion/"},"publisher":{"@type":"Organization","name":"Duy Do","logo":{"@type":"ImageObject","url":"https://duydo.me/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://duydo.me/ accesskey=h title="Duy Do (Alt + H)">Duy Do</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://duydo.me/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Java: Type Promotion</h1><div class=post-meta><span title='2018-08-06 18:51:46 +0700 +07'>Aug 6, 2018</span>&nbsp;·&nbsp;<span>Duy Do</span></div></header><div class=post-content><p>Cách đây cũng khá lâu mình đem đoạn mã đơn giản bên dưới hỏi một số bạn làm Java, cả juniors và seniors, các bạn đều bảo rằng đoạn mã này không có vấn đề, biên dịch và chạy được.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>byte</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>2</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>Thật ra thì đoạn mã trên không thể biên dịch được.</p><p>Trước tiên thử phân tích xem vì sao các bạn trả lời như vậy.
Nhìn vào đoạn mã thì thấy <code>b</code> được khai báo kiểu <code>byte</code> và gán giá trị <code>1</code>, khai báo này hoàn toàn hợp lệ vì tầm trị của kiểu <code>byte</code> trong Java từ -128 đến 127.</p><p>Dòng mã tiếp theo gán <code>b = b * 2</code>, lúc này biểu thức <code>b * 2</code> sẽ có giá trị là <code>1 * 2 = 2</code>, thuộc tầm trị [-128, 127] nên hoàn toàn có thể gán được lại cho b. Từ đây các bạn trả lời như đinh đóng cột đoạn mã trên biên dịch và chạy được là cái chắc :D</p><p>Nhưng các bạn đã nhầm, thực ra mọi thứ không diễn ra như vậy, vấn đề nằm ở dòng mã thứ 2, <code>b = b * 2</code>.</p><p>Khi thực hiện phép tính <code>b * 2</code>, Java tự động chuyển kiểu của <code>b</code> từ <code>byte</code> thành <code>int</code> để thực hiện phép * với 2, (2 là integer literal nên có kiểu int) và kết quả của <code>b * 2</code> có kiểu <code>int</code>. Tới đây thì ta đã rõ vì sao <code>b = b * 2</code> không thực hiện được vì thằng mang kiểu <code>int</code> thì không thể nào gán cho thằng mang kiểu <code>byte</code> được.</p><p>Quá trình tự động chuyển kiểu dữ liệu như vậy gọi là <strong>Type Promotion</strong>. Các bạn chỉ cần nhớ nguyên tắc chung khi thực hiện các biểu thức tính toán, Java sẽ tự động chuyển các kiểu dữ liệu của các toán hạng (operand) có tầm trị thấp sang kiểu dữ liệu của toán hạng có tầm trị cao hơn và kết quả của phép tính sẽ có kiểu dữ liệu của toán hạng có tầm trị cao nhất.</p><p>Cụ thể, các kiểu <code>byte</code>, <code>short</code> và <code>char</code> sẽ được chuyển thành <code>int</code> trước tiên, sau đó nếu toán hạng tiếp theo có kiểu <code>long</code> thì toàn bộ biểu thức sẽ chuyển thành <code>long</code>, cứ thế chuyển lên <code>float</code> và cuối cùng là <code>double</code>.</p><blockquote><p>byte, short, char => int => long => float => double</p></blockquote><p>Chúc anh em code Java vui vẻ &lt;3</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://duydo.me/tags/java/>Java</a></li><li><a href=https://duydo.me/tags/engineering/>Engineering</a></li></ul><nav class=paginav><a class=prev href=https://duydo.me/an-algorithm-for-finding-right-truncatable-prime-numbers/><span class=title>« Prev</span><br><span>An algorithm for finding right-truncatable prime numbers</span>
</a><a class=next href=https://duydo.me/ky-nang-mem/><span class=title>Next »</span><br><span>Kỹ năng mềm</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://duydo.me/>Duy Do</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>